<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.722 'Lato',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Lato',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}ul{margin-left:1.722rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.722rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;font-size:0.85rem;line-height:1.722rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;font-size:1rem;line-height:1.722rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}blockquote{margin-left:0;margin-right:1.722rem;margin-top:0;padding-bottom:0;padding-left:1.93725rem;padding-right:0;padding-top:0;margin-bottom:1.722rem;font-size:1.1487rem;line-height:1.722rem;color:hsla(0,0%,0%,0.59);border-left:0.64575rem solid;border-color:#612423;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.722rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.722rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.722rem;margin-bottom:calc(1.722rem / 2);margin-top:calc(1.722rem / 2);}li > ul{margin-left:1.722rem;margin-bottom:calc(1.722rem / 2);margin-top:calc(1.722rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.722rem / 2);}code{font-size:0.85rem;line-height:1.722rem;}kbd{font-size:0.85rem;line-height:1.722rem;}samp{font-size:0.85rem;line-height:1.722rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.148rem;padding-right:1.148rem;padding-top:0.861rem;padding-bottom:calc(0.861rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#4665b7;text-decoration:none;}a:hover,a:active{color:hsla(0,0%,0%,0.8);}h1,h2,h3,h4,h5,h6{margin-top:3.444rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.722rem;color:hsla(0,0%,0%,0.8);font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){blockquote{margin-left:-1.2915rem;margin-right:0;border-left:0.32288rem solid;border-color:#612423;padding-left:0.96862rem;}}</style><meta name="generator" content="Gatsby 4.24.1"/><meta data-react-helmet="true" name="description" content="While &quot;The Cloud&quot; has dramatically changed the landscape of hosted computing, there are still some scenarios where it is compelling to self…"/><meta data-react-helmet="true" name="image"/><meta data-react-helmet="true" property="og:url" content="https://symbioquine.net//2022-09-25-local-first-self-hosting"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Local-first self-hosting"/><meta data-react-helmet="true" property="og:description" content="While &quot;The Cloud&quot; has dramatically changed the landscape of hosted computing, there are still some scenarios where it is compelling to self…"/><meta data-react-helmet="true" property="og:image"/><meta data-react-helmet="true" property="fb:app_id" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="Symbioquine"/><meta data-react-helmet="true" name="twitter:title" content="Local-first self-hosting"/><meta data-react-helmet="true" name="twitter:description" content="While &quot;The Cloud&quot; has dramatically changed the landscape of hosted computing, there are still some scenarios where it is compelling to self…"/><meta data-react-helmet="true" name="twitter:image"/><meta name="theme-color" content="#c62828"/><style data-href="/styles.d8d637e99940029ba69b.css" data-identity="gatsby-global-css">footer{background-color:rgba(0,0,0,.9);color:hsla(0,0%,100%,.7);padding:20px 0 40px}footer .Footer-module--container--0c9rU{display:grid;grid-template-columns:50% 50%;margin-left:auto;margin-right:auto;max-width:50rem;padding:20px}footer a{color:#ddd;margin:10px}footer a:hover{color:#fff}footer .Footer-module--copyright--v7mXx{text-align:right}header{-ms-flex-pack:justify;-ms-flex-align:center;align-items:center;-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px);background:hsla(0,0%,100%,.75);display:-ms-flexbox;display:flex;height:70px;justify-content:space-between;margin-left:auto;margin-right:auto;padding:1rem;position:sticky;top:0;z-index:9}header a{color:#3c4856;font-size:1.1rem;margin-top:0;text-decoration:none}header h1{margin-top:5px}header nav a{color:#757575;display:inline-block;font-size:16px;position:relative;text-decoration:none;-webkit-transition:color .2s ease;transition:color .2s ease}header nav a:hover{color:#4f647d}header nav a strong{color:#4f647d;font-size:.8rem;margin:1px}header .Header-module--activeNav---ioXp{color:#4f647d;font-weight:700}.Header-module--main-nav--E6Yvw{-ms-overflow-style:none!important;display:-ms-flexbox;display:flex;list-style:none;margin-top:30px;overflow:auto;overflow:-moz-scrollbars-none;padding:0;scrollbar-width:none}.Header-module--main-nav--E6Yvw::-webkit-scrollbar{width:0!important}.Header-module--main-nav--E6Yvw li{font-size:1.3rem}.Header-module--main-nav--E6Yvw li+li{margin-left:1.5rem}@media(max-width:1000px){header{display:block;height:120px}nav{margin-top:-20px}nav ul{margin:0}}@media(max-width:768px){header strong{display:none}.Header-module--main-nav--E6Yvw li+li{margin-left:1rem}}@media(max-width:520px){header nav a{border:1px solid #eee;border-radius:5px;font-size:.7rem;padding:2px}}body{background:#fafbfb;margin:0}h1,h2,h3,h4,h5,h6{margin-top:1rem}main{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-left:auto;margin-right:auto;max-width:50rem;min-height:100vh;padding:20px}article{height:90%}article:hover{border-radius:5px;-webkit-box-shadow:0 11px 22px 12px #eee;box-shadow:0 11px 22px 12px #eee}.PostsListing-module--article-list--jwzfq{display:grid;grid-template-columns:50% 50%}.PostsListing-module--article-list--jwzfq .PostsListing-module--article-box--KlK75{-webkit-box-shadow:0 0 5px #ccc;box-shadow:0 0 5px #ccc;display:inline-block;margin:15px;-webkit-transition:all .25s ease;transition:all .25s ease;width:auto}.PostsListing-module--article-list--jwzfq .PostsListing-module--article-box--KlK75:hover{cursor:pointer}.PostsListing-module--article-list--jwzfq .PostsListing-module--article-box--KlK75 .PostsListing-module--right--IECb\+{color:#3c4856;margin-top:-20px;padding:15px}.PostsListing-module--article-list--jwzfq .PostsListing-module--article-box--KlK75 .PostsListing-module--right--IECb\+ .PostsListing-module--meta--UNq7G{font-size:.7rem;margin-bottom:20px;margin-top:-15px}.PostsListing-module--article-list--jwzfq .PostsListing-module--article-box--KlK75 .PostsListing-module--article-box-Img--VSH0c{background-repeat:no-repeat;background-size:cover;border-radius:10px;-webkit-box-shadow:1px 3px 16px #a7a7a7;box-shadow:1px 3px 16px #a7a7a7;height:164px;margin-bottom:20px;width:100%}@media(max-width:768px){.PostsListing-module--article-list--jwzfq{grid-template-columns:100%}}.PostTags-module--tag-container--YPLV\+ a{display:inline-grid;text-decoration:none}.PostTags-module--tag-container--YPLV\+ span{background:rgba(141,154,169,.21);border-radius:3px;color:rgba(0,0,0,.54);font-size:.8rem;font-weight:500;margin:.3rem;padding:.3rem .6rem}.SocialLinks-module--social-links--Hdyb9{-ms-flex-pack:center;-ms-flex-line-pack:center;-ms-flex-align:center;align-content:center;align-items:center;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;justify-content:center;left:30px;margin:15px 0;position:fixed;top:100px}.SocialLinks-module--social-links--Hdyb9 div{cursor:pointer;margin:5px 15px}.SocialLinks-module--share-count--KnA8t{text-align:center}@media(max-width:1200px){.SocialLinks-module--social-links--Hdyb9{position:relative;top:0}.SocialLinks-module--social-links--Hdyb9 div{display:inline-grid;position:relative}}.post-module--post-meta--b8vC1{color:#757575;font-size:.7rem;margin-bottom:.5rem}.post-module--pagination--Y3rfk{-ms-flex-pack:justify;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;justify-content:space-between;list-style:none;margin-top:4rem;padding:0}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><title data-react-helmet="true">Local-first self-hosting | Symbioquine</title><link data-react-helmet="true" rel="icon" href="data:image/png;base64,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"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://symbioquine.net/","name":"Local-first self-hosting","alternateName":"Symbioquine"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://symbioquine.net//2022-09-25-local-first-self-hosting","name":"Local-first self-hosting"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://symbioquine.net/","name":"Local-first self-hosting","alternateName":"Symbioquine","headline":"Local-first self-hosting","image":{"@type":"ImageObject"},"description":"While \"The Cloud\" has dramatically changed the landscape of hosted computing, there are still some scenarios where it is compelling to self…"}]</script><link href="//fonts.googleapis.com/css?family=Neuton:700|Lato:400,400i,700" rel="stylesheet" type="text/css"/><link href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css" rel="stylesheet"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/logos/logo-48.png"/><link rel="apple-touch-icon" sizes="1024x1024" href="/logos/logo-1024.png"/><link rel="alternate" type="application/rss+xml" title="/rss.xml" href="/rss.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header><h1><a href="/">Symbioquine</a></h1><nav><ul class="Header-module--main-nav--E6Yvw"><li><a href="/build-logs/">Build Logs<strong> (<!-- -->1<!-- -->)</strong></a></li><li><a href="/investigations/">Investigations<strong> (<!-- -->3<!-- -->)</strong></a></li><li><a href="/opinions/">Opinions<strong> (<!-- -->1<!-- -->)</strong></a></li><li><a href="/reviews/">Reviews<strong> (<!-- -->1<!-- -->)</strong></a></li><li><a href="/tutorials/">Tutorials<strong> (<!-- -->3<!-- -->)</strong></a></li></ul></nav></header><main><div><h1>Local-first self-hosting</h1><p class="post-module--post-meta--b8vC1">September 25, 2022<!-- --> — <!-- -->4<!-- --> Min Read<!-- --> </p><div class="post-module--post-meta--b8vC1"><div class="PostTags-module--tag-container--YPLV+"><a href="/tags/software-engineering/"><span>Software Engineering</span></a></div></div><div><p>While "The Cloud" has dramatically changed the landscape of hosted computing, there are still some scenarios where it is compelling to self-host and particularly self-host on ones own hardware and network.</p>
<p>Prominent among these scenarios is the case where the the application needs to be resilient to outages such that it remains locally accessible even if the wider Internet is not available.</p>
<p>One way to achieve that while still making the application accessible via the public Internet is to reverse tunnel ports 80 and 443 from a remote server server to the local one. Then use a local gateway firewall to
route IP packets bound for the remote server and those ports to the local server directly. In this way devices on the local network will transparently get the benefits of local network performance/availability without
needing to differentiate at the DNS/IP layer - which causes issues for devices like phones that may automatically switch between the local network and the public Internet via their cell connections.</p>
<h3 id="remote-server-setup" style="position:relative;"><a href="#remote-server-setup" aria-label="remote server setup permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Remote Server Setup</h3>
<p>The only things that should be needed are to enable your SSH key in the remote server's <code class="language-text">authorized_keys</code> file and to enable OpenSSH's <code class="language-text">GatewayPorts</code> option.</p>
<p>That might look something like this;</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token function">cat</span> cumulus.pub <span class="token operator">>></span> ~/.ssh/authorized_keys
<span class="token function">sudo</span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">"grep -q '^[^#]*GatewayPorts' /etc/ssh/sshd_config &amp;&amp; sed -i '/^[^#]*GatewayPorts[[:space:]]no/c\GatewayPorts yes' /etc/ssh/sshd_config || echo 'GatewayPorts yes' >> /etc/ssh/sshd_config"</span></code></pre></div>
<p>I would also recommend disabling <code class="language-text">ChallengeResponseAuthentication</code> and <code class="language-text">PasswordAuthentication</code> in OpenSSH;</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token function">sudo</span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">"grep -q 'ChallengeResponseAuthentication' /etc/ssh/sshd_config &amp;&amp; sed -i '/^[^#]*ChallengeResponseAuthentication[[:space:]]yes.*/c\ChallengeResponseAuthentication no' /etc/ssh/sshd_config || echo 'ChallengeResponseAuthentication no' >> /etc/ssh/sshd_config"</span>
<span class="token function">sudo</span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">"grep -q '^[^#]*PasswordAuthentication' /etc/ssh/sshd_config &amp;&amp; sed -i '/^[^#]*PasswordAuthentication[[:space:]]yes/c\PasswordAuthentication no' /etc/ssh/sshd_config || echo 'PasswordAuthentication no' >> /etc/ssh/sshd_config"</span></code></pre></div>
<h3 id="local-server-setup" style="position:relative;"><a href="#local-server-setup" aria-label="local server setup permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Local Server Setup</h3>
<p><em>Note: This assumes there is a folder <code class="language-text">certs/</code> with <code class="language-text">fullchain.pem</code> and <code class="language-text">privkey.pem</code> files for the "mysite.example.com" domain and also that there is an OpenSSH private key for the remote host in a file named <code class="language-text">cumulus.privkey</code>.</em></p>
<p><strong>docker-compose.yml</strong></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">version: '3.7'
services:

  www:
    image: crccheck/hello-world
    restart: always
    expose:
      - '8000'

  proxy:
    depends_on:
      - www
    image: nginx:latest
    restart: always
    volumes:
      - './nginx.conf:/etc/nginx/nginx.conf'
      - './certs/mysite.example.com:/etc/nginx/certs/mysite.example.com'
    ports:
      - '80:8080'
      - '443:8443'

  autossh-forward-proxy-http-to-cumulus:
    image: jnovack/autossh:2.0.0
    environment:
      - SSH_MODE=-R
      - SSH_REMOTE_USER=root
      - SSH_REMOTE_HOST=123.123.123.123
      - SSH_REMOTE_PORT=22
      - SSH_BIND_IP=0.0.0.0
      - SSH_TUNNEL_PORT=80
      - SSH_TARGET_HOST=localhost
      - SSH_TARGET_PORT=80
    restart: always
    privileged: true
    network_mode: "host"
    volumes:
      - ./cumulus.privkey:/id_rsa

  autossh-forward-proxy-https-to-cumulus:
    image: jnovack/autossh:2.0.0
    environment:
      - SSH_MODE=-R
      - SSH_REMOTE_USER=root
      - SSH_REMOTE_HOST=123.123.123.123
      - SSH_REMOTE_PORT=22
      - SSH_BIND_IP=0.0.0.0
      - SSH_TUNNEL_PORT=443
      - SSH_TARGET_HOST=localhost
      - SSH_TARGET_PORT=443
    restart: always
    privileged: true
    network_mode: "host"
    volumes:
      - ./cumulus.privkey:/id_rsa</code></pre></div>
<p><strong>nginx.conf</strong></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">pid        /tmp/nginx.pid;
error_log  /var/log/nginx/error.log warn;

events {

}

http {
  client_body_temp_path /tmp/client_temp;
  proxy_temp_path       /tmp/proxy_temp_path;
  fastcgi_temp_path     /tmp/fastcgi_temp;
  uwsgi_temp_path       /tmp/uwsgi_temp;
  scgi_temp_path        /tmp/scgi_temp;

  client_max_body_size 200m;

  server {
    listen 8080;
    server_name mysite.example.com;

    rewrite ^/(.*)$ https://$host$request_uri? permanent; 
  }

  ssl_certificate     /etc/nginx/certs/$host/fullchain.pem;
  ssl_certificate_key /etc/nginx/certs/$host/privkey.pem;

  server {
    listen 8443 ssl;
    server_name mysite.example.com;

    location / {
      proxy_pass http://www:8000;

      proxy_set_header Host $host;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header X-Forwarded-Proto https;
    }

  }

}</code></pre></div>
<h3 id="networking-setup" style="position:relative;"><a href="#networking-setup" aria-label="networking setup permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Networking Setup</h3>
<p><em>Note: These instructions are for Mikrotik routerOS, but something similar should be possible with most full-featured router/firewall hardware.</em></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">/ip dns static
add address=123.123.123.123 name=mysite.example.com ttl=5m
/ip firewall nat
add action=masquerade chain=srcnat comment="defconf: masquerade" ipsec-policy=out,none out-interface-list=WAN
add action=dst-nat chain=dstnat dst-address=123.123.123.123 dst-port=80,443 protocol=tcp to-addresses=192.168.88.32
add action=src-nat chain=srcnat protocol=tcp src-address=192.168.88.32 src-port=80,443 to-addresses=123.123.123.123
add action=masquerade chain=srcnat dst-address=192.168.88.0/24 src-address=192.168.88.0/24
/ip route
add distance=1 dst-address=123.123.123.123/32 gateway=192.168.88.1</code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/c88659dc17ef04a63627bf26e42012f0/167b5/static_dns_entry.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 75.72254335260115%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAC4jAAAuIwF4pT92AAABwklEQVQ4y62UWY+iUBSE+f9/wiefXGFMTIhbIjBiHJG0W8cl2ho2UUB9r0mdDJ2ZHttMJ/NQOXCA71bde4Livkxg2zZ2ux36/T6KxSJKpRIqlYrUWq2GZrMJ0zRFhmFA0zTpS88wYBgWVFVHR29C+f5jgOFwiNVqhel0ivF4jMlkAsdxMHYcqbx3XVfeI9CyLAwGA6n5QpZlynPFsm2MRiNsNhtxud1u5ZqVixwPb1gul7hcLrjf77jdbk+lOO4LFouFQA6HA5IkwSmOcTweEUYxvChBmiRI01SeEfxMSt80Jep8PhdXWZYhjmO8vi7hBxE2bwF8z4PnedLPPyT8kRTtm4ZWq4VOp4PZbIbr9SofMmYYhggDX9xS7J/PZ9GnwHK5jEaj8Q6kQzpYr9cIgkAgWZZKzSN/BhNgvV6Xseh2uxI73ytGpENuw36/lx4Xo7tncIXzRKiu6++RCWLkKIrk5OmWkQk4nU5/7OVfh1IoFGSAq9WqzBtHw/d9GRkC6fijuOhHcWQEqKoq2u22RM4dJr/GhOJL+UH8ixS6+30Pc2CuRw6fSRwS2Ov1HgK/KoU/Ac7hI4dfdScOeRiE/S/gTzCcQAhxfgrKAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Static DNS entry"
        title="Static DNS entry"
        src="/static/c88659dc17ef04a63627bf26e42012f0/1e043/static_dns_entry.png"
        srcset="/static/c88659dc17ef04a63627bf26e42012f0/991de/static_dns_entry.png 173w,
/static/c88659dc17ef04a63627bf26e42012f0/e4d6b/static_dns_entry.png 345w,
/static/c88659dc17ef04a63627bf26e42012f0/1e043/static_dns_entry.png 690w,
/static/c88659dc17ef04a63627bf26e42012f0/167b5/static_dns_entry.png 776w"
        sizes="(max-width: 690px) 100vw, 690px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/2ed34/nat_rules.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 35.260115606936424%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAC4jAAAuIwF4pT92AAAA60lEQVQoz42PyYqEQBBE/f9/EQQvHr3Y44Z26V0EsV1xw10hhkwQ7J4ZmMMjMpKoqCrJFz5834eu6zAMA7Ztw7Is1ms2TfONa+c4DoIgYP98Cnw9TEi+EIiiCEmS4JW+UNc1U1UVa1mWPF+Qv8jzHFmWoSgKlGXBXtI0DUIINmma8iGaiaZpWO9FVwkRxzE/hLjykizLcF0X0zSh6zvM84xxHDEMA/Z955l267pi2zbW8zxxHAdD87IsnCHPhZ7ncQHdQLRt+0PvfObuGUlRFP4yFdKi67pfuRf+lSEkVVURhiH6vn878Kn/5RtsUwRVvkuRUQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="NAT Rules"
        title="NAT Rules"
        src="/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/1e043/nat_rules.png"
        srcset="/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/991de/nat_rules.png 173w,
/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/e4d6b/nat_rules.png 345w,
/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/1e043/nat_rules.png 690w,
/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/e3189/nat_rules.png 1035w,
/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/b1001/nat_rules.png 1380w,
/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/2ed34/nat_rules.png 1776w"
        sizes="(max-width: 690px) 100vw, 690px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/22c92d34b9c69d7d2e50a7ef4c28fa86/d7542/dstnat_rule.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 356.6473988439306%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAABHCAYAAAAHk2dUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAFxklEQVRYw52YV1PbQBSF9f//By+UDC0JHUK3wTg2oZpiAgHjQi8JMHMz33WORjYSsfxwx5J29+y5de86yBXW7fv3gpVKJctms7a4uGhLS0vh7+rqqq2srPgv45lMJvzGM99mZ2dtcnLSFua/WbCytmbFQhPw+PjYyuWyHRwcuBwdHfnv4eGhj29vb1ulUrHb21u7ubmx6+trF54lwfJqxjaLRV98cXFhV1dXVqvVrFqtWqPRsHq9bvV6LfzGuMAEImAkWM9t2P7evm1tbdn5+bnd3d35JMBOymW7qDbs7PLGbmMWRyVkODQ0aFNTU24H1EUdWCAXF+dWqzesWm/Y9fWVL9SYhG9sjoZnZ2cW9Pf329jYmM3NzTkgDJuTG1YuH1u1emlnp6e+iM2kdpQd75eXl26eYHR01BnOzMzYyclJCFgun1qpdGyVSnMiQHFgEjkqGBgYsOHh4RaVGw0Ab2xvr2GVSs29j6d//frlgGwA43b1kaCnp8dg+fnzZ7cDDNmxWq3Y1tamg+AsVGp+r7rHk+wZ2vDr16/ORF5m4eHhkQMJkDGNJ6kefPr0yaMclWVDFgCAmgQyIvshUjcWsK+vL9bLqL+zs+PBfvOfGGwB/PLli83Pz7uXBQibvb29EDDO+HES2hB1BXh/f2+np6eew9gUdTthFjIcHBy0hYWFMGxgKEAEwFQMR0ZGnF0UkLBQdcHDSQ6IZYjK09PTLSpjN4oFgDynVhnAqJcJC9XATm3YovL0zIyDiiHZsbu764CdeLkll2fn5ryc5/N5+/nzpw+Qq9ixWVzrH4IBwqaEGc4M1jfyVvh3BMAMldsZ/k9dTAQBfgOyZHx83G2o1GMnnLK/v9+xyi2pR2HAhioO7KZYTJMpXr6GhoY89aIMAcS7CuxUYYOXAVMcPj4+unOKxaLHIfZMBdjb29tyBOBVQFAZ4T0VICrDUCpTB1EVD+OU1CoDqAKLUx4eHpwhcdVVcSCXqYnt9RB2AOos6TqXyRQYUlwBVbXpmCFHqMoXNuQj3iV7AJWXOwYksCcmJjxboq0IZ0pX1QaViUUAYaiqge3SAIY2ROV2p2A3hU5qGxLYFIjoEcAAQa0jIHUcUhyizRIq05oRi6mPAB1SUZUBhFlXNpwaH7NMNms7/9RTl4DKOujjCmpiK5LZKFqptB/2Mc12ruFBTZGNA4wrrCFgvpBvqc7RONQmqVReXl62bDYTqgcgA9iSWEwT2F6xsd/a2pqzZLF6Q1KOd6p3J/FHUUaCTG7DcrmcFQrFkCFAOEWB3QnD8Foxv7xqudy6FwMWK/Wo1F11XyvLS166uL8JUKFBoKfOlJn5b7a0uOROkQ0BY5BAJ2NSAWbya/Zj80d4fuBdjEvadZUpiwsLYYGFjToH4rArG1IHKbBUnGhx4Ff3t1QFlhMPUYHVLQB2HPadVhuciQSwiwMkuHUF05UiKX9VTPw22g4Yvd4yAVC+63zWRu3ZQpoylgjYTKcTV5nJ+hZNt/bG0zMlCVD1kMBWQxkH9K6dS7IhTqGLhSHfKWVqnOIaqESGOqR0UGEXTY4rrMosbOw3+jiVlXoq9eqf22ufwLExmUXJS7Qhu+kI0E0+yX4qyB86hUlkii7gSVUnupFnShwgAzxTMFCXYqEOAtWjEv0W62UxjP67xDduWPTfiJ7V4D89Pfn7O5VhwmTZRM8seH5+tj9//rjw/vLy4iBsyjPyLpcBlHF1T4EBICx4fX21t7c3f+dXIDwjEIgFlJEVKjpjYKZTEcbMwbYyRWJgy2MKWtjCFI8zR0cD2YQwTmj5XS+OIWroPxrA5QRYIdwU9Avz379/+3ssQxaTRqhCULMrC7AbNkR4ly0BkQ0hEAuIOqgFYxiImZyDLQHmGxvy/KGXo3GnXpFN1FXoZoAG0iIsX4Bx1wM46mX1N7r7sZBnwAFVSjKPMSWBN+0ItwE8pmBmAhswSax1GupAij4rw/4C3eFhnELJvRgAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="dstnat Rule"
        title="dstnat Rule"
        src="/static/22c92d34b9c69d7d2e50a7ef4c28fa86/1e043/dstnat_rule.png"
        srcset="/static/22c92d34b9c69d7d2e50a7ef4c28fa86/991de/dstnat_rule.png 173w,
/static/22c92d34b9c69d7d2e50a7ef4c28fa86/e4d6b/dstnat_rule.png 345w,
/static/22c92d34b9c69d7d2e50a7ef4c28fa86/1e043/dstnat_rule.png 690w,
/static/22c92d34b9c69d7d2e50a7ef4c28fa86/d7542/dstnat_rule.png 810w"
        sizes="(max-width: 690px) 100vw, 690px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/6f99a8dbd5a6cf291f8553452dfc4357/d7542/srcnat_rule.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 356.6473988439306%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="srcnat Rule"
        title="srcnat Rule"
        src="/static/6f99a8dbd5a6cf291f8553452dfc4357/1e043/srcnat_rule.png"
        srcset="/static/6f99a8dbd5a6cf291f8553452dfc4357/991de/srcnat_rule.png 173w,
/static/6f99a8dbd5a6cf291f8553452dfc4357/e4d6b/srcnat_rule.png 345w,
/static/6f99a8dbd5a6cf291f8553452dfc4357/1e043/srcnat_rule.png 690w,
/static/6f99a8dbd5a6cf291f8553452dfc4357/d7542/srcnat_rule.png 810w"
        sizes="(max-width: 690px) 100vw, 690px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/9cc74d2fde2c7bf98df8d9f50861dfc2/fe9f1/backup_route.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 42.77456647398844%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAC4jAAAuIwF4pT92AAABZ0lEQVQoz21Q2YrCQBCc//8TEUR8SAyKUTaY9cEjERW88UDXRJMYETywlmoYN8gOFF3V3VN0t3JdF/P5HJVKBblcDvl8XlAqlVAul2GapoCcva1WC47joFAowLZt0a77DdOwUbVMKM/zMB6PMZlMMJvN0Ov10O/3MRgM4Ps+ut3uv2Cfjp1OB47zhWazCcXPnHA6nYppmqa4XC4Ccq01z+psjKIIp9MJyvd8MVyv1wiCQAphGOJ4PAqP41g0eZIk7zo/s4dRa9aUHp3TrVYrMeeqo9EI2+1WctTcQNeHwyHa7TZ4rsViISfiuTabDZRhGHJcNu33eyRpIpHTcp3H44Hdbifm3IJT8TH/er3wfD5xv98l3m43qGq1ikajIRPEcYIgDHA4/IgBP/M+NCS4PtfWd7ter5LTNeZVsVhErVbDcrnE+XxGdIoQR7E06EOTZ/UnWNNcWZaFer3+ZxhFb2SNsvoT2dov2Y+NQ7IaAB8AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Backup Route"
        title="Backup Route"
        src="/static/9cc74d2fde2c7bf98df8d9f50861dfc2/1e043/backup_route.png"
        srcset="/static/9cc74d2fde2c7bf98df8d9f50861dfc2/991de/backup_route.png 173w,
/static/9cc74d2fde2c7bf98df8d9f50861dfc2/e4d6b/backup_route.png 345w,
/static/9cc74d2fde2c7bf98df8d9f50861dfc2/1e043/backup_route.png 690w,
/static/9cc74d2fde2c7bf98df8d9f50861dfc2/fe9f1/backup_route.png 883w"
        sizes="(max-width: 690px) 100vw, 690px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p></div><hr/><div class="post-module--post-meta--b8vC1"><div class="SocialLinks-module--social-links--Hdyb9"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--reddit"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--reddit "><g><circle cx="32" cy="32" r="31" fill="#5f99cf"></circle></g><g><path d="m 52.8165,31.942362 c 0,-2.4803 -2.0264,-4.4965 -4.5169,-4.4965 -1.2155,0 -2.3171,0.4862 -3.128,1.2682 -3.077,-2.0247 -7.2403,-3.3133 -11.8507,-3.4782 l 2.5211,-7.9373 6.8272,1.5997 -0.0102,0.0986 c 0,2.0281 1.6575,3.6771 3.6958,3.6771 2.0366,0 3.6924,-1.649 3.6924,-3.6771 0,-2.0281 -1.6575,-3.6788 -3.6924,-3.6788 -1.564,0 -2.8968,0.9758 -3.4357,2.3443 l -7.3593,-1.7255 c -0.3213,-0.0782 -0.6477,0.1071 -0.748,0.4233 L 32,25.212062 c -4.8246,0.0578 -9.1953,1.3566 -12.41,3.4425 -0.8058,-0.7446 -1.8751,-1.2104 -3.0583,-1.2104 -2.4905,0 -4.5152,2.0179 -4.5152,4.4982 0,1.649 0.9061,3.0787 2.2389,3.8607 -0.0884,0.4794 -0.1462,0.9639 -0.1462,1.4569 0,6.6487 8.1736,12.0581 18.2223,12.0581 10.0487,0 18.224,-5.4094 18.224,-12.0581 0,-0.4658 -0.0493,-0.9248 -0.1275,-1.377 1.4144,-0.7599 2.3885,-2.2304 2.3885,-3.9406 z m -29.2808,3.0872 c 0,-1.4756 1.207,-2.6775 2.6894,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 -1.4824,0 -2.6894,-1.2002 -2.6894,-2.6758 z m 15.4037,7.9373 c -1.3549,1.3481 -3.4816,2.0043 -6.5008,2.0043 l -0.0221,-0.0051 -0.0221,0.0051 c -3.0209,0 -5.1476,-0.6562 -6.5008,-2.0043 -0.2465,-0.2448 -0.2465,-0.6443 0,-0.8891 0.2465,-0.2465 0.6477,-0.2465 0.8942,0 1.105,1.0999 2.9393,1.6337 5.6066,1.6337 l 0.0221,0.0051 0.0221,-0.0051 c 2.6673,0 4.5016,-0.5355 5.6066,-1.6354 0.2465,-0.2465 0.6477,-0.2448 0.8942,0 0.2465,0.2465 0.2465,0.6443 0,0.8908 z m -0.3213,-5.2615 c -1.4824,0 -2.6877,-1.2002 -2.6877,-2.6758 0,-1.4756 1.2053,-2.6775 2.6877,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 z" fill="white"></path></g></svg></div><div class="SocialMediaShareCount"><div class="SocialLinks-module--share-count--KnA8t"></div></div></div><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--twitter"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--twitter "><g><circle cx="32" cy="32" r="31" fill="#00aced"></circle></g><g><path d="M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z" fill="white"></path></g></svg></div></div><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--facebook"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--facebook "><g><circle cx="32" cy="32" r="31" fill="#3b5998"></circle></g><g><path d="M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z" fill="white"></path></g></svg></div><div class="SocialMediaShareCount"><div class="SocialLinks-module--share-count--KnA8t"></div></div></div><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--linkedin"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--linkedin "><g><circle cx="32" cy="32" r="31" fill="#007fb1"></circle></g><g><path d="M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z" fill="white"></path></g></svg></div><div class="SocialMediaShareCount"><div class="SocialLinks-module--share-count--KnA8t"></div></div></div><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--telegram"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--telegram "><g><circle cx="32" cy="32" r="31" fill="#37aee2"></circle></g><g><path d="m45.90873,15.44335c-0.6901,-0.0281 -1.37668,0.14048 -1.96142,0.41265c-0.84989,0.32661 -8.63939,3.33986 -16.5237,6.39174c-3.9685,1.53296 -7.93349,3.06593 -10.98537,4.24067c-3.05012,1.1765 -5.34694,2.05098 -5.4681,2.09312c-0.80775,0.28096 -1.89996,0.63566 -2.82712,1.72788c-0.23354,0.27218 -0.46884,0.62161 -0.58825,1.10275c-0.11941,0.48114 -0.06673,1.09222 0.16682,1.5716c0.46533,0.96052 1.25376,1.35737 2.18443,1.71383c3.09051,0.99037 6.28638,1.93508 8.93263,2.8236c0.97632,3.44171 1.91401,6.89571 2.84116,10.34268c0.30554,0.69185 0.97105,0.94823 1.65764,0.95525l-0.00351,0.03512c0,0 0.53908,0.05268 1.06412,-0.07375c0.52679,-0.12292 1.18879,-0.42846 1.79109,-0.99212c0.662,-0.62161 2.45836,-2.38812 3.47683,-3.38552l7.6736,5.66477l0.06146,0.03512c0,0 0.84989,0.59703 2.09312,0.68132c0.62161,0.04214 1.4399,-0.07726 2.14229,-0.59176c0.70766,-0.51626 1.1765,-1.34683 1.396,-2.29506c0.65673,-2.86224 5.00979,-23.57745 5.75257,-27.00686l-0.02107,0.08077c0.51977,-1.93157 0.32837,-3.70159 -0.87096,-4.74991c-0.60054,-0.52152 -1.2924,-0.7498 -1.98425,-0.77965l0,0.00176zm-0.2072,3.29069c0.04741,0.0439 0.0439,0.0439 0.00351,0.04741c-0.01229,-0.00351 0.14048,0.2072 -0.15804,1.32576l-0.01229,0.04214l-0.00878,0.03863c-0.75858,3.50668 -5.15554,24.40802 -5.74203,26.96472c-0.08077,0.34417 -0.11414,0.31959 -0.09482,0.29852c-0.1756,-0.02634 -0.50045,-0.16506 -0.52679,-0.1756l-13.13468,-9.70175c4.4988,-4.33199 9.09945,-8.25307 13.744,-12.43229c0.8218,-0.41265 0.68483,-1.68573 -0.29852,-1.70681c-1.04305,0.24584 -1.92279,0.99564 -2.8798,1.47502c-5.49971,3.2626 -11.11882,6.13186 -16.55882,9.49279c-2.792,-0.97105 -5.57873,-1.77704 -8.15298,-2.57601c2.2336,-0.89555 4.00889,-1.55579 5.75608,-2.23009c3.05188,-1.1765 7.01687,-2.7042 10.98537,-4.24067c7.94051,-3.06944 15.92667,-6.16346 16.62028,-6.43037l0.05619,-0.02283l0.05268,-0.02283c0.19316,-0.0878 0.30378,-0.09658 0.35471,-0.10009c0,0 -0.01756,-0.05795 -0.00351,-0.04566l-0.00176,0zm-20.91715,22.0638l2.16687,1.60145c-0.93418,0.91311 -1.81743,1.77353 -2.45485,2.38812l0.28798,-3.98957" fill="white"></path></g></svg></div></div></div></div></div><nav><ul class="post-module--pagination--Y3rfk"><li><a rel="prev" href="/2022-09-28-github-actions-drupal-module-build-step/">← <!-- -->Building Drupal Modules with GitHub Actions</a></li><li><a rel="next" href="/2021-12-03-dewalt-diy-adapters/">DIY Adapters for DeWalt Batteries<!-- -->→</a></li></ul></nav></main><footer><div class="Footer-module--container--0c9rU"><div><a href="https://twitter.com/Symbioquine" target="_blank" rel="noopener noreferrer">Twitter</a><a href="https://github.com/symbioquine" target="_blank" rel="noopener noreferrer">GitHub</a><a href="https://symbioquine.net/rss.xml" target="_blank" rel="noopener noreferrer">RSS</a></div><div class="Footer-module--copyright--v7mXx">Copyright © 2022. All rights reserved.</div></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-SNBGXD1Z3E', 'auto', {});
      
      
      
      
      
      }</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-SNBGXD1Z3E"></script><script>
    window.GATSBY_GTAG_PLUGIN_GA_TRACKING_ID = (
      'G-SNBGXD1Z3E'
    );
    window.GATSBY_GTAG_PLUGIN_ANONYMIZE = false;

    var options = {
      send_page_view: false
    };
    if (false) {
      options.anonymize_ip = true;
    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'G-SNBGXD1Z3E', options);
  </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2022-09-25-local-first-self-hosting/";window.___webpackCompilationHash="f2c30df2a5ec1d81b60d";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-e08f01320979ed166395.js"],"app":["/app-945c959e4644d4a9bb8d.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-9a6ac9233bb94a70fc58.js"],"component---src-pages-404-js":["/component---src-pages-404-js-3ce82cc970a299f08e11.js"],"component---src-pages-index-js":["/component---src-pages-index-js-7a4dcdae8a9ca049ccae.js"],"component---src-templates-category-js":["/component---src-templates-category-js-79fbcf073d3c20e3db3c.js"],"component---src-templates-post-js":["/component---src-templates-post-js-0a230cbf21706e2f1de6.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-22a720fccc80a3a7cbe3.js"]};/*]]>*/</script><script src="/polyfill-e08f01320979ed166395.js" nomodule=""></script><script src="/app-945c959e4644d4a9bb8d.js" async=""></script><script src="/framework-048bbf1cbedf065581ba.js" async=""></script><script src="/webpack-runtime-a3c03de1c09aaec1d870.js" async=""></script></body></html>