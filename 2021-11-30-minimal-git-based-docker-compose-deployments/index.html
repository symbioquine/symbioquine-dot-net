<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.722 'Lato',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Lato',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;color:hsla(0,0%,0%,0.9);font-family:'Neuton',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}ul{margin-left:1.722rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.722rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;font-size:0.85rem;line-height:1.722rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;font-size:1rem;line-height:1.722rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}blockquote{margin-left:0;margin-right:1.722rem;margin-top:0;padding-bottom:0;padding-left:1.93725rem;padding-right:0;padding-top:0;margin-bottom:1.722rem;font-size:1.1487rem;line-height:1.722rem;color:hsla(0,0%,0%,0.59);border-left:0.64575rem solid;border-color:#612423;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.722rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.722rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.722rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.722rem;margin-bottom:calc(1.722rem / 2);margin-top:calc(1.722rem / 2);}li > ul{margin-left:1.722rem;margin-bottom:calc(1.722rem / 2);margin-top:calc(1.722rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.722rem / 2);}code{font-size:0.85rem;line-height:1.722rem;}kbd{font-size:0.85rem;line-height:1.722rem;}samp{font-size:0.85rem;line-height:1.722rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.148rem;padding-right:1.148rem;padding-top:0.861rem;padding-bottom:calc(0.861rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#4665b7;text-decoration:none;}a:hover,a:active{color:hsla(0,0%,0%,0.8);}h1,h2,h3,h4,h5,h6{margin-top:3.444rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.722rem;color:hsla(0,0%,0%,0.8);font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){blockquote{margin-left:-1.2915rem;margin-right:0;border-left:0.32288rem solid;border-color:#612423;padding-left:0.96862rem;}}</style><meta name="generator" content="Gatsby 4.24.1"/><meta data-react-helmet="true" name="description" content="Deployment automation infrastructure is perhaps one the most crowded domains. Many of the options out there address key facets of the domain…"/><meta data-react-helmet="true" name="image"/><meta data-react-helmet="true" property="og:url" content="https://symbioquine.net//2021-11-30-minimal-git-based-docker-compose-deployments"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Minimal git-based docker-compose deployments"/><meta data-react-helmet="true" property="og:description" content="Deployment automation infrastructure is perhaps one the most crowded domains. Many of the options out there address key facets of the domain…"/><meta data-react-helmet="true" property="og:image"/><meta data-react-helmet="true" property="fb:app_id" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="Symbioquine"/><meta data-react-helmet="true" name="twitter:title" content="Minimal git-based docker-compose deployments"/><meta data-react-helmet="true" name="twitter:description" content="Deployment automation infrastructure is perhaps one the most crowded domains. Many of the options out there address key facets of the domain…"/><meta data-react-helmet="true" name="twitter:image"/><meta name="theme-color" content="#c62828"/><style data-href="/styles.d8d637e99940029ba69b.css" data-identity="gatsby-global-css">footer{background-color:rgba(0,0,0,.9);color:hsla(0,0%,100%,.7);padding:20px 0 40px}footer .Footer-module--container--0c9rU{display:grid;grid-template-columns:50% 50%;margin-left:auto;margin-right:auto;max-width:50rem;padding:20px}footer a{color:#ddd;margin:10px}footer a:hover{color:#fff}footer .Footer-module--copyright--v7mXx{text-align:right}header{-ms-flex-pack:justify;-ms-flex-align:center;align-items:center;-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px);background:hsla(0,0%,100%,.75);display:-ms-flexbox;display:flex;height:70px;justify-content:space-between;margin-left:auto;margin-right:auto;padding:1rem;position:sticky;top:0;z-index:9}header a{color:#3c4856;font-size:1.1rem;margin-top:0;text-decoration:none}header h1{margin-top:5px}header nav a{color:#757575;display:inline-block;font-size:16px;position:relative;text-decoration:none;-webkit-transition:color .2s ease;transition:color .2s ease}header nav a:hover{color:#4f647d}header nav a strong{color:#4f647d;font-size:.8rem;margin:1px}header .Header-module--activeNav---ioXp{color:#4f647d;font-weight:700}.Header-module--main-nav--E6Yvw{-ms-overflow-style:none!important;display:-ms-flexbox;display:flex;list-style:none;margin-top:30px;overflow:auto;overflow:-moz-scrollbars-none;padding:0;scrollbar-width:none}.Header-module--main-nav--E6Yvw::-webkit-scrollbar{width:0!important}.Header-module--main-nav--E6Yvw li{font-size:1.3rem}.Header-module--main-nav--E6Yvw li+li{margin-left:1.5rem}@media(max-width:1000px){header{display:block;height:120px}nav{margin-top:-20px}nav ul{margin:0}}@media(max-width:768px){header strong{display:none}.Header-module--main-nav--E6Yvw li+li{margin-left:1rem}}@media(max-width:520px){header nav a{border:1px solid #eee;border-radius:5px;font-size:.7rem;padding:2px}}body{background:#fafbfb;margin:0}h1,h2,h3,h4,h5,h6{margin-top:1rem}main{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-left:auto;margin-right:auto;max-width:50rem;min-height:100vh;padding:20px}article{height:90%}article:hover{border-radius:5px;-webkit-box-shadow:0 11px 22px 12px #eee;box-shadow:0 11px 22px 12px #eee}.PostsListing-module--article-list--jwzfq{display:grid;grid-template-columns:50% 50%}.PostsListing-module--article-list--jwzfq .PostsListing-module--article-box--KlK75{-webkit-box-shadow:0 0 5px #ccc;box-shadow:0 0 5px #ccc;display:inline-block;margin:15px;-webkit-transition:all .25s ease;transition:all .25s ease;width:auto}.PostsListing-module--article-list--jwzfq .PostsListing-module--article-box--KlK75:hover{cursor:pointer}.PostsListing-module--article-list--jwzfq .PostsListing-module--article-box--KlK75 .PostsListing-module--right--IECb\+{color:#3c4856;margin-top:-20px;padding:15px}.PostsListing-module--article-list--jwzfq .PostsListing-module--article-box--KlK75 .PostsListing-module--right--IECb\+ .PostsListing-module--meta--UNq7G{font-size:.7rem;margin-bottom:20px;margin-top:-15px}.PostsListing-module--article-list--jwzfq .PostsListing-module--article-box--KlK75 .PostsListing-module--article-box-Img--VSH0c{background-repeat:no-repeat;background-size:cover;border-radius:10px;-webkit-box-shadow:1px 3px 16px #a7a7a7;box-shadow:1px 3px 16px #a7a7a7;height:164px;margin-bottom:20px;width:100%}@media(max-width:768px){.PostsListing-module--article-list--jwzfq{grid-template-columns:100%}}.PostTags-module--tag-container--YPLV\+ a{display:inline-grid;text-decoration:none}.PostTags-module--tag-container--YPLV\+ span{background:rgba(141,154,169,.21);border-radius:3px;color:rgba(0,0,0,.54);font-size:.8rem;font-weight:500;margin:.3rem;padding:.3rem .6rem}.SocialLinks-module--social-links--Hdyb9{-ms-flex-pack:center;-ms-flex-line-pack:center;-ms-flex-align:center;align-content:center;align-items:center;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;justify-content:center;left:30px;margin:15px 0;position:fixed;top:100px}.SocialLinks-module--social-links--Hdyb9 div{cursor:pointer;margin:5px 15px}.SocialLinks-module--share-count--KnA8t{text-align:center}@media(max-width:1200px){.SocialLinks-module--social-links--Hdyb9{position:relative;top:0}.SocialLinks-module--social-links--Hdyb9 div{display:inline-grid;position:relative}}.post-module--post-meta--b8vC1{color:#757575;font-size:.7rem;margin-bottom:.5rem}.post-module--pagination--Y3rfk{-ms-flex-pack:justify;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;justify-content:space-between;list-style:none;margin-top:4rem;padding:0}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><title data-react-helmet="true">Minimal git-based docker-compose deployments | Symbioquine</title><link data-react-helmet="true" rel="icon" href="data:image/png;base64,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"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://symbioquine.net/","name":"Minimal git-based docker-compose deployments","alternateName":"Symbioquine"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://symbioquine.net//2021-11-30-minimal-git-based-docker-compose-deployments","name":"Minimal git-based docker-compose deployments"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://symbioquine.net/","name":"Minimal git-based docker-compose deployments","alternateName":"Symbioquine","headline":"Minimal git-based docker-compose deployments","image":{"@type":"ImageObject"},"description":"Deployment automation infrastructure is perhaps one the most crowded domains. Many of the options out there address key facets of the domain…"}]</script><link href="//fonts.googleapis.com/css?family=Neuton:700|Lato:400,400i,700" rel="stylesheet" type="text/css"/><link href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css" rel="stylesheet"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/logos/logo-48.png"/><link rel="apple-touch-icon" sizes="1024x1024" href="/logos/logo-1024.png"/><link rel="alternate" type="application/rss+xml" title="/rss.xml" href="/rss.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header><h1><a href="/">Symbioquine</a></h1><nav><ul class="Header-module--main-nav--E6Yvw"><li><a href="/build-logs/">Build Logs<strong> (<!-- -->1<!-- -->)</strong></a></li><li><a href="/investigations/">Investigations<strong> (<!-- -->3<!-- -->)</strong></a></li><li><a href="/opinions/">Opinions<strong> (<!-- -->1<!-- -->)</strong></a></li><li><a href="/reviews/">Reviews<strong> (<!-- -->1<!-- -->)</strong></a></li><li><a href="/tutorials/">Tutorials<strong> (<!-- -->3<!-- -->)</strong></a></li></ul></nav></header><main><div><h1>Minimal git-based docker-compose deployments</h1><p class="post-module--post-meta--b8vC1">November 30, 2021<!-- --> — <!-- -->3<!-- --> Min Read<!-- --> </p><div class="post-module--post-meta--b8vC1"><div class="PostTags-module--tag-container--YPLV+"><a href="/tags/operational-excellence/"><span>Operational Excellence</span></a><a href="/tags/software-engineering/"><span>Software Engineering</span></a></div></div><div><p>Deployment automation infrastructure is perhaps one the most crowded domains. Many of the options out there address key facets of the domain such as testing, QA approvals, pipeline transparency,
rollback, zero-downtime rollouts, etc. There are also adjacent domains such as the DevOps space with tools like Puppet and Ansible.</p>
<p>Those tools are great when you need them, but sometimes they introduce more complexity cost than they're worth.</p>
<p>This recipe shows how to set up a minimal repository that will clone itself and run docker-compose on new pushes. It doesn't do a lot of the things those full-featured deployment tools do,
but it is pretty impressive what you <em>can</em> get with a tiny git hook and a script in the right place.</p>
<p><em><strong>Note:</strong> The pattern of calling a script in a repository from a git hook is a bit of a security risk in multi-user environments if write access on the repository are set too permissively. Please exercise caution.</em></p>
<h2 id="prerequisites" style="position:relative;"><a href="#prerequisites" aria-label="prerequisites permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prerequisites</h2>
<p><em>If you're here, I'm going to assume you already know how to set up SSH and are confident enough to customize this recipe for your needs.</em></p>
<h3 id="both-target-and-development-hosts" style="position:relative;"><a href="#both-target-and-development-hosts" aria-label="both target and development hosts permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Both Target and Development Hosts</h3>
<ul>
<li><code class="language-text">git</code></li>
</ul>
<h3 id="target-host" style="position:relative;"><a href="#target-host" aria-label="target host permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Target Host</h3>
<ul>
<li><code class="language-text">docker</code></li>
<li><code class="language-text">docker-compose</code></li>
</ul>
<h2 id="server-repository-setup-on-target-host" style="position:relative;"><a href="#server-repository-setup-on-target-host" aria-label="server repository setup on target host permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Server Repository Setup (on Target Host)</h2>
<p>First we'll create a <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-Getting-Git-on-a-Server">bare repository</a> on the server - feel free to replace "myproject" with another name (It probably can't have spaces, but I haven't tested that.);</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token function">ssh</span> myuser@myserver
<span class="token function">git</span> init <span class="token parameter variable">--bare</span> /home/myuser/myproject.git</code></pre></div>
<p>Next we'll install the git hook in that bare repository;</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token builtin class-name">echo</span> <span class="token string">'[ -d "/home/myuser/myproject" ] &amp;&amp; /home/myuser/myproject/deploy.sh || git clone /home/myuser/myproject.git /home/myuser/myproject &amp;&amp; /home/myuser/myproject/deploy.sh'</span> <span class="token operator">></span> /home/myuser/myproject.git/hooks/post-receive <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x /home/myuser/myproject.git/hooks/post-receive</code></pre></div>
<p>At this point, the repository can be pushed to and it will automatically clone itself and execute a <code class="language-text">deploy.sh</code> script that must be placed at the root of the repository.</p>
<h2 id="client-repository-setup" style="position:relative;"><a href="#client-repository-setup" aria-label="client repository setup permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Client Repository Setup</h2>
<p>Clone the repository and cd into it;</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token function">git</span> clone myuser@myserver:/home/myuser/myproject.git myproject
<span class="token builtin class-name">cd</span> myproject</code></pre></div>
<p>Create the <code class="language-text">deploy.sh</code> file with the following contents;</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">set</span> <span class="token parameter variable">-e</span>

<span class="token builtin class-name">cd</span> /home/myuser/myproject

<span class="token assign-left variable">STAGE</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$1</span>"</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$STAGE</span>"</span> <span class="token operator">==</span> <span class="token string">"plan"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    ./deploy.sh execute
    <span class="token builtin class-name">exit</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$STAGE</span>"</span> <span class="token operator">==</span> <span class="token string">"execute"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span> <span class="token parameter variable">--build</span> --remove-orphans
    <span class="token builtin class-name">exit</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token assign-left variable">pwd</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">pwd</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token assign-left variable">GIT_DIR</span><span class="token operator">=</span><span class="token variable">${GIT_DIR}</span>
<span class="token builtin class-name">unset</span> GIT_DIR
<span class="token function">git</span> pull
./deploy.sh plan</code></pre></div>
<p>Create the <code class="language-text">docker-compose.yml</code> file with the following contents;</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">version: <span class="token string">'3.7'</span>
services:

  hello-world:
    image: armhf/hello-world</code></pre></div>
<p>Mark the <code class="language-text">deploy.sh</code> script as executable and commit/push the initial change;</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token function">chmod</span> +x deploy.sh 
<span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">-A</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">"Initial commit"</span></code></pre></div>
<p>You should then see something like this;</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ git commit -m "Initial commit"
[master (root-commit) f90ae92] Initial commit
 2 files changed, 28 insertions(+)
 create mode 100755 deploy.sh
 create mode 100644 docker-compose.yml
$ git push
Enumerating objects: 4, done.
Counting objects: 100% (4/4), done.
Delta compression using up to 12 threads
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 530 bytes | 530.00 KiB/s, done.
Total 4 (delta 0), reused 0 (delta 0), pack-reused 0
remote: Cloning into '/home/myuser/myproject'...
remote: done.
remote: pwd=/home/myuser/myproject
remote: GIT_DIR=.
remote: Already up to date.
remote: Creating network "myproject_default" with the default driver
remote: Pulling hello-world (armhf/hello-world:)...
remote: latest: Pulling from armhf/hello-world
remote: Digest: sha256:9701edc932223a66e49dd6c894a11db8c2cf4eccd1414f1ec105a623bf16b426
remote: Status: Downloaded newer image for armhf/hello-world:latest
remote: Creating myproject_hello-world_1 ... 
remote: Creating myproject_hello-world_1 ... done
To myserver:/home/myuser/myproject.git
 * [new branch]      master -> master</code></pre></div>
<p>Congratulations, you've now bootstrapped some minimal git-based deployment infrastructure. Use it wisely and build something cool!</p>
<h2 id="related-work" style="position:relative;"><a href="#related-work" aria-label="related work permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Related Work</h2>
<ul>
<li><a href="https://kenfavors.com/code/using-git-to-deploy-code/">https://kenfavors.com/code/using-git-to-deploy-code/</a></li>
<li><a href="https://ricardoanderegg.com/posts/git-push-deployments-docker-tags/">https://ricardoanderegg.com/posts/git-push-deployments-docker-tags/</a></li>
</ul></div><hr/><div class="post-module--post-meta--b8vC1"><div class="SocialLinks-module--social-links--Hdyb9"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--reddit"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--reddit "><g><circle cx="32" cy="32" r="31" fill="#5f99cf"></circle></g><g><path d="m 52.8165,31.942362 c 0,-2.4803 -2.0264,-4.4965 -4.5169,-4.4965 -1.2155,0 -2.3171,0.4862 -3.128,1.2682 -3.077,-2.0247 -7.2403,-3.3133 -11.8507,-3.4782 l 2.5211,-7.9373 6.8272,1.5997 -0.0102,0.0986 c 0,2.0281 1.6575,3.6771 3.6958,3.6771 2.0366,0 3.6924,-1.649 3.6924,-3.6771 0,-2.0281 -1.6575,-3.6788 -3.6924,-3.6788 -1.564,0 -2.8968,0.9758 -3.4357,2.3443 l -7.3593,-1.7255 c -0.3213,-0.0782 -0.6477,0.1071 -0.748,0.4233 L 32,25.212062 c -4.8246,0.0578 -9.1953,1.3566 -12.41,3.4425 -0.8058,-0.7446 -1.8751,-1.2104 -3.0583,-1.2104 -2.4905,0 -4.5152,2.0179 -4.5152,4.4982 0,1.649 0.9061,3.0787 2.2389,3.8607 -0.0884,0.4794 -0.1462,0.9639 -0.1462,1.4569 0,6.6487 8.1736,12.0581 18.2223,12.0581 10.0487,0 18.224,-5.4094 18.224,-12.0581 0,-0.4658 -0.0493,-0.9248 -0.1275,-1.377 1.4144,-0.7599 2.3885,-2.2304 2.3885,-3.9406 z m -29.2808,3.0872 c 0,-1.4756 1.207,-2.6775 2.6894,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 -1.4824,0 -2.6894,-1.2002 -2.6894,-2.6758 z m 15.4037,7.9373 c -1.3549,1.3481 -3.4816,2.0043 -6.5008,2.0043 l -0.0221,-0.0051 -0.0221,0.0051 c -3.0209,0 -5.1476,-0.6562 -6.5008,-2.0043 -0.2465,-0.2448 -0.2465,-0.6443 0,-0.8891 0.2465,-0.2465 0.6477,-0.2465 0.8942,0 1.105,1.0999 2.9393,1.6337 5.6066,1.6337 l 0.0221,0.0051 0.0221,-0.0051 c 2.6673,0 4.5016,-0.5355 5.6066,-1.6354 0.2465,-0.2465 0.6477,-0.2448 0.8942,0 0.2465,0.2465 0.2465,0.6443 0,0.8908 z m -0.3213,-5.2615 c -1.4824,0 -2.6877,-1.2002 -2.6877,-2.6758 0,-1.4756 1.2053,-2.6775 2.6877,-2.6775 1.4824,0 2.6877,1.2019 2.6877,2.6775 0,1.4756 -1.2053,2.6758 -2.6877,2.6758 z" fill="white"></path></g></svg></div><div class="SocialMediaShareCount"><div class="SocialLinks-module--share-count--KnA8t"></div></div></div><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--twitter"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--twitter "><g><circle cx="32" cy="32" r="31" fill="#00aced"></circle></g><g><path d="M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z" fill="white"></path></g></svg></div></div><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--facebook"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--facebook "><g><circle cx="32" cy="32" r="31" fill="#3b5998"></circle></g><g><path d="M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z" fill="white"></path></g></svg></div><div class="SocialMediaShareCount"><div class="SocialLinks-module--share-count--KnA8t"></div></div></div><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--linkedin"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--linkedin "><g><circle cx="32" cy="32" r="31" fill="#007fb1"></circle></g><g><path d="M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z" fill="white"></path></g></svg></div><div class="SocialMediaShareCount"><div class="SocialLinks-module--share-count--KnA8t"></div></div></div><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--telegram"><div style="width:32px;height:32px"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--telegram "><g><circle cx="32" cy="32" r="31" fill="#37aee2"></circle></g><g><path d="m45.90873,15.44335c-0.6901,-0.0281 -1.37668,0.14048 -1.96142,0.41265c-0.84989,0.32661 -8.63939,3.33986 -16.5237,6.39174c-3.9685,1.53296 -7.93349,3.06593 -10.98537,4.24067c-3.05012,1.1765 -5.34694,2.05098 -5.4681,2.09312c-0.80775,0.28096 -1.89996,0.63566 -2.82712,1.72788c-0.23354,0.27218 -0.46884,0.62161 -0.58825,1.10275c-0.11941,0.48114 -0.06673,1.09222 0.16682,1.5716c0.46533,0.96052 1.25376,1.35737 2.18443,1.71383c3.09051,0.99037 6.28638,1.93508 8.93263,2.8236c0.97632,3.44171 1.91401,6.89571 2.84116,10.34268c0.30554,0.69185 0.97105,0.94823 1.65764,0.95525l-0.00351,0.03512c0,0 0.53908,0.05268 1.06412,-0.07375c0.52679,-0.12292 1.18879,-0.42846 1.79109,-0.99212c0.662,-0.62161 2.45836,-2.38812 3.47683,-3.38552l7.6736,5.66477l0.06146,0.03512c0,0 0.84989,0.59703 2.09312,0.68132c0.62161,0.04214 1.4399,-0.07726 2.14229,-0.59176c0.70766,-0.51626 1.1765,-1.34683 1.396,-2.29506c0.65673,-2.86224 5.00979,-23.57745 5.75257,-27.00686l-0.02107,0.08077c0.51977,-1.93157 0.32837,-3.70159 -0.87096,-4.74991c-0.60054,-0.52152 -1.2924,-0.7498 -1.98425,-0.77965l0,0.00176zm-0.2072,3.29069c0.04741,0.0439 0.0439,0.0439 0.00351,0.04741c-0.01229,-0.00351 0.14048,0.2072 -0.15804,1.32576l-0.01229,0.04214l-0.00878,0.03863c-0.75858,3.50668 -5.15554,24.40802 -5.74203,26.96472c-0.08077,0.34417 -0.11414,0.31959 -0.09482,0.29852c-0.1756,-0.02634 -0.50045,-0.16506 -0.52679,-0.1756l-13.13468,-9.70175c4.4988,-4.33199 9.09945,-8.25307 13.744,-12.43229c0.8218,-0.41265 0.68483,-1.68573 -0.29852,-1.70681c-1.04305,0.24584 -1.92279,0.99564 -2.8798,1.47502c-5.49971,3.2626 -11.11882,6.13186 -16.55882,9.49279c-2.792,-0.97105 -5.57873,-1.77704 -8.15298,-2.57601c2.2336,-0.89555 4.00889,-1.55579 5.75608,-2.23009c3.05188,-1.1765 7.01687,-2.7042 10.98537,-4.24067c7.94051,-3.06944 15.92667,-6.16346 16.62028,-6.43037l0.05619,-0.02283l0.05268,-0.02283c0.19316,-0.0878 0.30378,-0.09658 0.35471,-0.10009c0,0 -0.01756,-0.05795 -0.00351,-0.04566l-0.00176,0zm-20.91715,22.0638l2.16687,1.60145c-0.93418,0.91311 -1.81743,1.77353 -2.45485,2.38812l0.28798,-3.98957" fill="white"></path></g></svg></div></div></div></div></div><nav><ul class="post-module--pagination--Y3rfk"><li><a rel="prev" href="/2021-12-03-dewalt-diy-adapters/">← <!-- -->DIY Adapters for DeWalt Batteries</a></li><li><a rel="next" href="/2021-11-29-off-grid-lead-acid-battery-charging/">Off-grid lead acid battery charging<!-- -->→</a></li></ul></nav></main><footer><div class="Footer-module--container--0c9rU"><div><a href="https://twitter.com/Symbioquine" target="_blank" rel="noopener noreferrer">Twitter</a><a href="https://github.com/symbioquine" target="_blank" rel="noopener noreferrer">GitHub</a><a href="https://symbioquine.net/rss.xml" target="_blank" rel="noopener noreferrer">RSS</a></div><div class="Footer-module--copyright--v7mXx">Copyright © 2022. All rights reserved.</div></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-SNBGXD1Z3E', 'auto', {});
      
      
      
      
      
      }</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-SNBGXD1Z3E"></script><script>
    window.GATSBY_GTAG_PLUGIN_GA_TRACKING_ID = (
      'G-SNBGXD1Z3E'
    );
    window.GATSBY_GTAG_PLUGIN_ANONYMIZE = false;

    var options = {
      send_page_view: false
    };
    if (false) {
      options.anonymize_ip = true;
    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'G-SNBGXD1Z3E', options);
  </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2021-11-30-minimal-git-based-docker-compose-deployments/";window.___webpackCompilationHash="f2c30df2a5ec1d81b60d";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-e08f01320979ed166395.js"],"app":["/app-945c959e4644d4a9bb8d.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-9a6ac9233bb94a70fc58.js"],"component---src-pages-404-js":["/component---src-pages-404-js-3ce82cc970a299f08e11.js"],"component---src-pages-index-js":["/component---src-pages-index-js-7a4dcdae8a9ca049ccae.js"],"component---src-templates-category-js":["/component---src-templates-category-js-79fbcf073d3c20e3db3c.js"],"component---src-templates-post-js":["/component---src-templates-post-js-0a230cbf21706e2f1de6.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-22a720fccc80a3a7cbe3.js"]};/*]]>*/</script><script src="/polyfill-e08f01320979ed166395.js" nomodule=""></script><script src="/app-945c959e4644d4a9bb8d.js" async=""></script><script src="/framework-048bbf1cbedf065581ba.js" async=""></script><script src="/webpack-runtime-a3c03de1c09aaec1d870.js" async=""></script></body></html>