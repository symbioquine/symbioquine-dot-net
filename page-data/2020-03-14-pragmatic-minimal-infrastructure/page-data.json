{"componentChunkName":"component---src-templates-post-js","path":"/2020-03-14-pragmatic-minimal-infrastructure/","result":{"data":{"markdownRemark":{"html":"<p>A 2019 article by David Futcher <a href=\"https://news.ycombinator.com/item?id=26423110\">appeared on Hacker News recently</a> titled <a href=\"https://blog.usejournal.com/you-dont-need-all-that-complex-expensive-distracting-infrastructure-a70dbe0dbccb\">You Don’t Need All That Complex/Expensive/Distracting Infrastructure</a>.\nThe article is well written and makes a really important point about building to your actual requirements. It's hard to over-emphasize <a href=\"https://martinfowler.com/bliki/Yagni.html\">YAGNI</a> at all\nlevels of coding, software engineering, and operations. Critical thinking about the tradeoffs of increasing the upfront cost - whether in time, cash,\nor complexity - is essential to reaching your audience faster and still having the flexibility/budget to respond to the ever-changing playing field.</p>\n<p>It's important to acknowledge which tradeoffs have recurring concrete costs and which have hypothetical costs. For instance, a typical high availability (HA)\nconfiguration with a load balancer and multiple hosts incurs many costs. It incurs an up-front cost to configure the infrastructure and ongoing hardware/maintenance\ncosts. It also incurs a complexity cost of deploying to multiple hosts, reasoning about distributed systems, etc. Most of these costs don't buy you anything on a\nday-to-day basis. Your machines will tend to be running smoothly and the network will tend to be stable - at least in the ways your HA setup protects against.\nYou might never pay the hypothetical cost of an availability zone outage or a host hardware failure.</p>\n<p>That said, you <em>will</em> have to upgrade your hosts' operating systems, deploy new versions of your software, and troubleshoot hard-to-reproduce behavior from your\nsystem. All of these benefit from building out a little infrastructure.</p>\n<p>For the sake of simplicity let's assume you've taken the argument against infrastructure deeply to heart and your startup's software is a gzipped folder with\nall your web content and some sort of server binary. You <code class=\"language-text\">scp</code> it to your host, unpack, execute, and away you go. Life is good, there's no complicated container\nsystems, no build servers, no CD pipelines, no statefulness, just good old-fashioned operations - and presumably all the time in the world to find customers and\nmarket your nascent business.</p>\n<p>You can even get most of the benefits naively associated with having more infrastructure. Need to upgrade a host or deploy your software? No problem, you get to make\nthe call about whether to risk downtime. You check your logs and try to guess whether any \"important customers\" are likely to try and use your site. If not, just go\nahead and bounce the host or kill your server process then start a new version. Otherwise, you can spin up a new host, get it set up correctly running your software,\nthen do a DNS flip and wait for the traffic to move to the new machine before stopping the old one.</p>\n<p>It may take a while and feel repetitive after the third or fourth time, but boring is good right?</p>\n<p>Well, yes and no. The minimalistic strategy I just described is great because it puts you in the driver's seat and hopefully delivering value to your customers faster.\nWhere it falls down is that it is an extreme local optimum on the cost vs external value graph. In my opinion, even considering a very small set of externalities can\nboth erode the advantages of the minimalistic strategy and help offset the costs of a more infrastructure-intensive strategy.</p>\n<p>One of the key aspects to consider is which kinds of growing pains you have control over and can predict/schedule. If your business venture is even a little successful,\nyou can be sure unforeseen bugs in your software will necessitate \"emergency\" code changes. You can also be sure you'll very quickly have enough web traffic that every\ndeployment will require that new-host/dns-flip strategy or else involve downtime affecting those existing/potential customers. What's harder to predict is where the\nbreak-even point is on more complex infrastructure - especially since it can itself introduce unforeseen bugs. I would argue though, that paying the cost early on to\nget an as-simple-as-possible no-downtime deployment mechanism is worthwhile.</p>\n<p>Should it be prioritized over the bare-minimum work to have a product or web-presence? Probably not. Should it be prioritized along with launching your first few features\nor releases? Probably. Once you have any customers, traffic, or value; you have an obligation to respect others' time and yours. In 2021 this means having very few\nif any \"planned outages\" and definitely not having \"expected\" intermittent downtime for deployments. The tooling is becoming ubiquitous enough and customers discerning\nenough that certain kinds of availability form a new baseline.</p>\n<p>Another aspect that should be considered is that there are ancillary benefits to early judicious infrastructure investment. If your business succeeds, your time spent\nlearning enough NGINX, Kubernetes, etc. to achieve that baseline availability will serve you well by providing foundational competency to evaluate future architectures.\nIf your business fails there's a good chance you can re-use the core configuration/scripts/learnings in your next endeavor.</p>\n<p>Finally, there's a sentiment case to be made for employing \"cool\" infrastructure that is a good fit for a given use-case and current growth. You probably don't need\nand shouldn't build the fanciest multi-AZ autoscaling cluster with real-time machine-learning metrics/log analysis. But if a few scripts can give you a satisfying\nminimal git-ops workflow for day-to-day deployments which makes you feel like your time is being well spent, it is likely worth it. Not to mention that your \"3 AM self\"\nwill thank you if deploying is easy, fast, and makes it hard to break things.</p>\n<p>In short, I too want to see more pragmatic business decisions as opposed to hype-driven over-engineering. However, those decisions need to take into account the\ncosts of not keeping up with the times.</p>","timeToRead":4,"excerpt":"A 2019 article by David Futcher appeared on Hacker News recently titled You Don’t Need All That Complex/Expensive/Distracting Infrastructure…","frontmatter":{"title":"Pragmatic Minimal Infrastructure","cover":null,"date":"2021-03-14T00:00:00.000Z","categories":["Opinions"],"tags":["Operational Excellence","Software Engineering"]},"fields":{"slug":"/2020-03-14-pragmatic-minimal-infrastructure","date":"March 14, 2021"}}},"pageContext":{"slug":"/2020-03-14-pragmatic-minimal-infrastructure","nexttitle":"EPever MPPT Solar Charge Controller Monitoring Hardware","nextslug":"/2020-10-27-epever-esp-8266-controller","prevtitle":"Epever Solar Charge Controller Clocks Running Fast","prevslug":"/2020-09-02-epever-scc-clocks-running-fast"}},"staticQueryHashes":["3969716136"]}