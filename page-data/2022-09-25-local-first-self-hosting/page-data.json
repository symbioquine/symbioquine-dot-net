{"componentChunkName":"component---src-templates-post-js","path":"/2022-09-25-local-first-self-hosting","result":{"data":{"markdownRemark":{"html":"<p>While \"The Cloud\" has dramatically changed the landscape of hosted computing, there are still some scenarios where it is compelling to self-host and particularly self-host on ones own hardware and network.</p>\n<p>Prominent among these scenarios is the case where the the application needs to be resilient to outages such that it remains locally accessible even if the wider Internet is not available.</p>\n<p>One way to achieve that while still making the application accessible via the public Internet is to reverse tunnel ports 80 and 443 from a remote server server to the local one. Then use a local gateway firewall to\nroute IP packets bound for the remote server and those ports to the local server directly. In this way devices on the local network will transparently get the benefits of local network performance/availability without\nneeding to differentiate at the DNS/IP layer - which causes issues for devices like phones that may automatically switch between the local network and the public Internet via their cell connections.</p>\n<h3 id=\"remote-server-setup\" style=\"position:relative;\"><a href=\"#remote-server-setup\" aria-label=\"remote server setup permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Remote Server Setup</h3>\n<p>The only things that should be needed are to enable your SSH key in the remote server's <code class=\"language-text\">authorized_keys</code> file and to enable OpenSSH's <code class=\"language-text\">GatewayPorts</code> option.</p>\n<p>That might look something like this;</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">cat cumulus.pub &gt;&gt; ~/.ssh/authorized_keys\nsudo sh -c &quot;grep -q &#39;^[^#]*GatewayPorts&#39; /etc/ssh/sshd_config &amp;&amp; sed -i &#39;/^[^#]*GatewayPorts[[:space:]]no/c\\GatewayPorts yes&#39; /etc/ssh/sshd_config || echo &#39;GatewayPorts yes&#39; &gt;&gt; /etc/ssh/sshd_config&quot;</code></pre></div>\n<p>I would also recommend disabling <code class=\"language-text\">ChallengeResponseAuthentication</code> and <code class=\"language-text\">PasswordAuthentication</code> in OpenSSH;</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">sudo sh -c &quot;grep -q &#39;ChallengeResponseAuthentication&#39; /etc/ssh/sshd_config &amp;&amp; sed -i &#39;/^[^#]*ChallengeResponseAuthentication[[:space:]]yes.*/c\\ChallengeResponseAuthentication no&#39; /etc/ssh/sshd_config || echo &#39;ChallengeResponseAuthentication no&#39; &gt;&gt; /etc/ssh/sshd_config&quot;\nsudo sh -c &quot;grep -q &#39;^[^#]*PasswordAuthentication&#39; /etc/ssh/sshd_config &amp;&amp; sed -i &#39;/^[^#]*PasswordAuthentication[[:space:]]yes/c\\PasswordAuthentication no&#39; /etc/ssh/sshd_config || echo &#39;PasswordAuthentication no&#39; &gt;&gt; /etc/ssh/sshd_config&quot;</code></pre></div>\n<h3 id=\"local-server-setup\" style=\"position:relative;\"><a href=\"#local-server-setup\" aria-label=\"local server setup permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Local Server Setup</h3>\n<p><em>Note: This assumes there is a folder <code class=\"language-text\">certs/</code> with <code class=\"language-text\">fullchain.pem</code> and <code class=\"language-text\">privkey.pem</code> files for the \"mysite.example.com\" domain and also that there is an OpenSSH private key for the remote host in a file named <code class=\"language-text\">cumulus.privkey</code>.</em></p>\n<p><strong>docker-compose.yml</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">version: &#39;3.7&#39;\nservices:\n\n  www:\n    image: crccheck/hello-world\n    restart: always\n    expose:\n      - &#39;8000&#39;\n\n  proxy:\n    depends_on:\n      - www\n    image: nginx:latest\n    restart: always\n    volumes:\n      - &#39;./nginx.conf:/etc/nginx/nginx.conf&#39;\n      - &#39;./certs/mysite.example.com:/etc/nginx/certs/mysite.example.com&#39;\n    ports:\n      - &#39;80:8080&#39;\n      - &#39;443:8443&#39;\n\n  autossh-forward-proxy-http-to-cumulus:\n    image: jnovack/autossh:2.0.0\n    environment:\n      - SSH_MODE=-R\n      - SSH_REMOTE_USER=root\n      - SSH_REMOTE_HOST=123.123.123.123\n      - SSH_REMOTE_PORT=22\n      - SSH_BIND_IP=0.0.0.0\n      - SSH_TUNNEL_PORT=80\n      - SSH_TARGET_HOST=localhost\n      - SSH_TARGET_PORT=80\n    restart: always\n    privileged: true\n    network_mode: &quot;host&quot;\n    volumes:\n      - ./cumulus.privkey:/id_rsa\n\n  autossh-forward-proxy-https-to-cumulus:\n    image: jnovack/autossh:2.0.0\n    environment:\n      - SSH_MODE=-R\n      - SSH_REMOTE_USER=root\n      - SSH_REMOTE_HOST=123.123.123.123\n      - SSH_REMOTE_PORT=22\n      - SSH_BIND_IP=0.0.0.0\n      - SSH_TUNNEL_PORT=443\n      - SSH_TARGET_HOST=localhost\n      - SSH_TARGET_PORT=443\n    restart: always\n    privileged: true\n    network_mode: &quot;host&quot;\n    volumes:\n      - ./cumulus.privkey:/id_rsa</code></pre></div>\n<p><strong>nginx.conf</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pid        /tmp/nginx.pid;\nerror_log  /var/log/nginx/error.log warn;\n\nevents {\n\n}\n\nhttp {\n  client_body_temp_path /tmp/client_temp;\n  proxy_temp_path       /tmp/proxy_temp_path;\n  fastcgi_temp_path     /tmp/fastcgi_temp;\n  uwsgi_temp_path       /tmp/uwsgi_temp;\n  scgi_temp_path        /tmp/scgi_temp;\n\n  client_max_body_size 200m;\n\n  server {\n    listen 8080;\n    server_name mysite.example.com;\n\n    rewrite ^/(.*)$ https://$host$request_uri? permanent; \n  }\n\n  ssl_certificate     /etc/nginx/certs/$host/fullchain.pem;\n  ssl_certificate_key /etc/nginx/certs/$host/privkey.pem;\n\n  server {\n    listen 8443 ssl;\n    server_name mysite.example.com;\n\n    location / {\n      proxy_pass http://www:8000;\n\n      proxy_set_header Host $host;\n      proxy_set_header X-Real-IP $remote_addr;\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n      proxy_set_header X-Forwarded-Proto https;\n    }\n\n  }\n\n}</code></pre></div>\n<h3 id=\"networking-setup\" style=\"position:relative;\"><a href=\"#networking-setup\" aria-label=\"networking setup permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Networking Setup</h3>\n<p><em>Note: These instructions are for Mikrotik routerOS, but something similar should be possible with most full-featured router/firewall hardware.</em></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/ip dns static\nadd address=123.123.123.123 name=mysite.example.com ttl=5m\n/ip firewall nat\nadd action=masquerade chain=srcnat comment=&quot;defconf: masquerade&quot; ipsec-policy=out,none out-interface-list=WAN\nadd action=dst-nat chain=dstnat dst-address=123.123.123.123 dst-port=80,443 protocol=tcp to-addresses=192.168.88.32\nadd action=src-nat chain=srcnat protocol=tcp src-address=192.168.88.32 src-port=80,443 to-addresses=123.123.123.123\nadd action=masquerade chain=srcnat dst-address=192.168.88.0/24 src-address=192.168.88.0/24\n/ip route\nadd distance=1 dst-address=123.123.123.123/32 gateway=192.168.88.1</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c88659dc17ef04a63627bf26e42012f0/167b5/static_dns_entry.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.72254335260115%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAC4jAAAuIwF4pT92AAAByElEQVQ4y6WTSZOaUBSF+f8/wpUbtZwtXWgUymiDaHU5lJazgXRAFBz3J5ybokM6aTMtThXvXvjeuQPKcDKE/qRju92i2+0imUwinU4jm80ik8kgn8+jWq1KTtd1GIaBSqUicZ51/SmM9VAqfYBar0Exng2YPRPL5RKj0Ug+6Pf7ME0TvV4vlInBYCAitNVqQVVVtNttaJom4lnTVHQ6H6F0QgAhq9VKXG42G3ler9dyiW19wmw2w/F4xO12w/V6/UGXy+W7wrPyPBxjOp0KxLIs+L6Pw+GAl5fPcPceHC+AH8LO5zNOp9NvpXTDHkwmE8znc3HIm3w/kLPjeljbHvb7PVzXlcuCIBC9CyyXy2g2m9Ibgr8BfQES4jpfxLltW+KcOZb/LpDTjKDj8ViATCwWCziOIwDGIsgjdwLM5XKo1WoCpEP2iiKMDne7nTjkywQT+NBhsVgMd6iEer3+WjJLY8me5wlQpm3bAmOMeT7TfVyMKYlEAqlUShaZu3a/38UZgRxG/PbI/dvVobhS4rBQKKDRaLz2kMk45FdOHknh78UeRlOOgJGbv5X0kP9qfG3iJf7JMv80ZQ7krcN/dSl7GF/s/wV+BYkHPukM4C+JAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Static DNS entry\"\n        title=\"Static DNS entry\"\n        src=\"/static/c88659dc17ef04a63627bf26e42012f0/1e043/static_dns_entry.png\"\n        srcset=\"/static/c88659dc17ef04a63627bf26e42012f0/991de/static_dns_entry.png 173w,\n/static/c88659dc17ef04a63627bf26e42012f0/e4d6b/static_dns_entry.png 345w,\n/static/c88659dc17ef04a63627bf26e42012f0/1e043/static_dns_entry.png 690w,\n/static/c88659dc17ef04a63627bf26e42012f0/167b5/static_dns_entry.png 776w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/2ed34/nat_rules.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.260115606936424%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAC4jAAAuIwF4pT92AAAA9klEQVQoz42Qy2qEUBBE/f+PEQQXk6WbER/IHTPoUkTj+xUVURQqdsMdZEggi0N1V3eXFxXxEPA8D4ZhwDRNOI4D27ZZZW1Z1gvqpee6LnzfP/dsiIcP825CEacRRRHSNEWWZWjbFk3ToK5r1qqquJZQT5RliaIokOc517JXbh83PD+fKMoCX2cgHdGAFrquY5XBBM1kUBzH/JAkSc77En3fQ1FVFUIILMuC4XtgnecZ0zRh2zZW8tZ1Zcg7jgP7vjNU05ygngPpP4zjyC8i6EvvekXuXZEzRdM0BEHAgWQMw/Ar18C/dghF13WEYfgKlAfv+l9+AEfUBPEKJ4zTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"NAT Rules\"\n        title=\"NAT Rules\"\n        src=\"/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/1e043/nat_rules.png\"\n        srcset=\"/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/991de/nat_rules.png 173w,\n/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/e4d6b/nat_rules.png 345w,\n/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/1e043/nat_rules.png 690w,\n/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/e3189/nat_rules.png 1035w,\n/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/b1001/nat_rules.png 1380w,\n/static/ca58cd5ec3ea57b8ebc1f5d48b714bad/2ed34/nat_rules.png 1776w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/22c92d34b9c69d7d2e50a7ef4c28fa86/d7542/dstnat_rule.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 356.6473988439306%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAABHCAYAAAAHk2dUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAFzUlEQVRYw52YZ1f6TBDF+f5fw3d/y7H3hkcBERQsYO+iNHtv8+Q3OHkWTJT4Ys8mgdy9M3dmdjax7GpG8rm8bG9vy+rqqmSzWR2ZTEbn5eVl/xljZWVFcrmcP/L5vKRSKVlYmJd0Oi2xRHpJX9rZ2ZGDgwM5OjqSvb09Hdw3xr7s7+/L5uamnJ+fy/39vdze3vrj7u5OnzHH0pmsMuOFs7Mzubm5kcvLy6ZRrzffX11dfRuXl405llpMSaFQUOqHh4e6Ij8AcuAtUrqoyHH5OhCkGbCxWKyrq0uGh4dlcnJS/QhgvV73/nQt5XJZarWaVKpVfXZ9ff2NvQ0sxF2xnp4eGRsbk5mZGfUjgA0zq96fdtVnJc8VVQ8Ud1QqlUCzWVAZ9vf3y+jo6BfDHXUsfzg6Knn3Jx5gWcEuLi4U3DXPBYQ9Q00GdGpqShk2RKnL6emVFItlKZUqnm8PVPVSqaRMql8uCDI91tHRIX19fQqKOMYQkwuFNTk5OVZfViplfQ4YI0wc9eH4+Lj6cWtrywesVmueDw8UjHCCncWchVYgoKk8PT3ti8IPON/MNFaYaSMUsLu7W9nNzs42qUwYrK+ve7489Z3+Wywq4ODgoMTjcRXF4hA2gOMCzA2LvUBR/v37p2CYDCA5Cavd3V1laaHS7oj19vbK3NycBrYxBAQw7vFhJIaEzMTEhM8QFc1k82GYAIEMOzs7NUtaASlVGxsbyjCyyQC6uUxYYDL3ZrKl3E/VRgEHvtLOVIYhPuTa4rBd/yngQjLllfCkmkd1JgssXyldjN9AyCZcRD2NLS2vSNbbP4rFotYzTIYVgpDbxGEkHw4MDMjQ0JAqjc/MZFZ0fdh22KAy9dBUNlEwI6oP/Tgkjy2XYQjYycmJLhDZZABhh8rk7sPDg5qMSJgdObDJZcsUGKIu4sCQ+adiGghIpSaoLbBhQ/hYtflTpoyMjChDAKg2bEj4788qU7HdTEFlyheAfypf+NAtX/jPFSVshwtkCCDsDJDUg9na2ppmj6ncdi6jMiYzjCGgxB/3kU0mDkk/Niq3fBHcUUXxfUguW7NkmULaAegGdlv1EJMBdEVhy8RkhEGgyIFtzZK70cPyT7nc39+nKsfj/2/0MLSqHTlTZjywpaUln411CABhclBxsHYkEHAxV5BtL+XIDECsEYItgJFNXslltb+GIWwA5AfEoEi0a7LfcCa8TSqZZJMqNJlsOY047QBqL+51bLG05z8OLLA0QECsJlpP/VtAY4k27clsTpa9ExK5i8nWfaEywd1uHEIEd8XmEilZ9I5WHMVYgYf8iAn4MHIuJxPzukEtegcg2JgogMI4cqZMzc9JYiEhhWLBP5rBDrPpBCIDZvKNsLHaZwWW+z+Vr/hsXCs25Yvgts7Bdr3IqQcQgGxUbnFgRmVAIwFyRgGQiuMCAkQoRc6UIMDG4bHeFLjus9bCChAu0nbOBbRNyl6EJZnCbMcL7omA74f0RgUKZWirAlSr1f0cb2XdujUEMjR2dgqAFcrbQkH57J+XWxkSNvwAMzZ6ZkBJQ4CtsrSKYttvKCBM6HHsJG8pGXTwht3x8bFaEehDK+/2zcFm14euL62QYE2oKAzbU4jFMEADtSr1o8rEFWYD+FuR8Df6IEDA8An9Ij7EFItD9xBuyrrXoQzdlRHq8fFRnp6edNCH24x/uX5+ftZ3A1VuNYWu1l56eXlRcGbusYDr19fXxrevIEDrbQh0GPAiL7y/v8vHx4deM3OPGFx/fn4q41CGVj2sUwAYk1Db9m/Y4Wv3m0RoYLt5CltAAeMaxU15IsE+wwQWB/suw2xs8SF+M9NdH7Kg+TBQFF5mNVbGHPIXQXjp7e1NB0DMgLAg1/gz0IcAul+T8BN/ZJjK/McY4oYfGZrKzIBgvlUbzLOWg4V4zmh8G6uEB7Z9NMNs/uhWabt2iwbP7OSvTTsnAT5ZsRdjjoUK5YjZypf1L+5wn/Hef+8zXaK18D4jAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"dstnat Rule\"\n        title=\"dstnat Rule\"\n        src=\"/static/22c92d34b9c69d7d2e50a7ef4c28fa86/1e043/dstnat_rule.png\"\n        srcset=\"/static/22c92d34b9c69d7d2e50a7ef4c28fa86/991de/dstnat_rule.png 173w,\n/static/22c92d34b9c69d7d2e50a7ef4c28fa86/e4d6b/dstnat_rule.png 345w,\n/static/22c92d34b9c69d7d2e50a7ef4c28fa86/1e043/dstnat_rule.png 690w,\n/static/22c92d34b9c69d7d2e50a7ef4c28fa86/d7542/dstnat_rule.png 810w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6f99a8dbd5a6cf291f8553452dfc4357/d7542/srcnat_rule.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 356.6473988439306%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAABHCAYAAAAHk2dUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAFuUlEQVRYw52YZ1vqQBCF8///ht9sj703LIAIXrFgL1gBBbF35+Yd78QFg5fwYZ/NQnJyZs7M7Gy8zGpasitZ2dnZkdXVVclkMjrS6bTOy8vLwW82FhYWJB6PSyKRkLm5OV3Pz89JMpkUL55a0od2d3fl8PBQ8vm87O/v62D9NQ7k4OBAtra2pFAoyMPDg9zd3cn9/X3N4Dcvlc4oMx44OzuTm5sbqVQqNaNcrvz4jXF9fe2sr3XtJReTksvlJJvNytHRkdze3uofgBz6LzkvlOS4UA0eZg4bBux1dnbK0NCQTExMqB8BLJfLelOxWJSrqyt/sK4qe/4LY4uFuMvr7u6W0dFRmZ6eVj8C+GVmWW+6uLiQ4+O8P46lVCrpMFCXof3m9fX1ycjISMAQx3IDb2MNIExZn56eKkszsVqtBoBcM9RkQCcnJ5WhicLDm5ubKhSAl5eX+gAu4LpWkO/htbW1SW9vr4IijjHEBNYAWxjZy8JMtqE+HBsbUz9ub28HgDDBh8TdlzBXAdCvgKby1NRUIAp/4HxYnZ+fBz5qFDI1gF1dXcpuZmamRmXYra+vq8m/xd8PwIGBAYnFYiqKxSFOBxwXIEqY8xsNr729XcEwGUByElZ7e3tBHDbLThn29PTI7OysBrYxBAQw1vgwEkNCZnx8PGCIymZySz7s6OjQLKkHpFRtbGwEKkcyGUA3ly2PWZvJzVQbBez/l3amMgzxIdcWh836TwEXEkm/dCfUPKqzlSjMtgz5Hwi5jouop97S8h/J+PsHhYCKgsmwQhBymTiM5MP+/n4ZHBxUpfGZmcwbXR82HTaoTD00lU0UzIjqwyAOyWPLZRgCdnJyoi+IbDKAsENlcpctEpMRCbMjBza5bJkCQ9RFHBgyW3VuGpBKTVBbYMOG8LFq01KmDA8PK0MAqDZUafzXsspUbDdTUJnyBWBL5QsfuuUL/7miNNrcQxkCCDsDJPVgtra2ptljKjedy6iMyQxjCCjxZxt95Dgk/dio3PJFcEcVJfAhuey2IpZ2ALqB3VQ9xGQAXVHYgzEZYRAocmBbs+Ru9LBsKZf7+npV5Vjse6OHoVXtyJky7YMtLS0FbKzlAAiTw4oDollT+gNwcSUnO37KkRmAWIcFWwAjm/xnJaP9NQzdhhIxKBLNmhw0nHF/k+K8sbGRqzHZchpxmgFkM6Nj81K+/1KplLI0QGuBYclNzQQ0lmjTnsisyLJ/OiJ3Mdm6L1QmuJuNQ4jgLm82npRF/0jFUYw38KP10vgwci4n4vO6QS36ByDYmCiAwjhypkzOz0p8IS65zVxwNLNOn04gMmA6+xU2VvuswLJuqXzFZmJasSlfBLd1DrbrRU49gABko3KLAzMqAxoJkDMKgFQcFxAgQilypoQBuoeb2nPzzwOPnflwkbZzLqBtUvYgLMkUbratgDUREPYyRkOG1WrFBzryQ+n033m59qDtln2XdR3D79NoPl/0m84jP5QulJUdxjEvLJ+D83I9Q8KGP87Orv2NvujPRWWJ+bQoVlnqRbHttyEgJhcKp76/SoGCYTsfv8OOEz/xG+rD728OpaB5/610WSEhdRuKwrBtNEzVelCrUr+oXNW4wgx8978uNtjowwABwyf0iyhMDNqJvn64MRiqsjF034xQj4+P8vT0pIM+3GbCievn52d9NlTlelPoau2hl5cXBWdmjX+5fn19/fr2FQZovQ2pCAMe5IH393f5+PhQAGbW3Mv15+enMm7I0I09204xCV8iklX2+o8cDQPbzVPYAgoAVR0zAeWamf8BDi0OAPJ2ZmOLD/Gbme76EBDzYagoPMzbiEH7gIYgPPT29qbDrgHhhVzjz1AfAoi/zAzM40aGqQzzMJUbhg0OZgYE8/EVuWr+tBcx40OGtSwN9xTbl+2boeUz1/a/XTNbAdGmnZMAn6zYizHZQoU8ZoalJb8711/z3F8Q0V3Xto1ASwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"srcnat Rule\"\n        title=\"srcnat Rule\"\n        src=\"/static/6f99a8dbd5a6cf291f8553452dfc4357/1e043/srcnat_rule.png\"\n        srcset=\"/static/6f99a8dbd5a6cf291f8553452dfc4357/991de/srcnat_rule.png 173w,\n/static/6f99a8dbd5a6cf291f8553452dfc4357/e4d6b/srcnat_rule.png 345w,\n/static/6f99a8dbd5a6cf291f8553452dfc4357/1e043/srcnat_rule.png 690w,\n/static/6f99a8dbd5a6cf291f8553452dfc4357/d7542/srcnat_rule.png 810w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9cc74d2fde2c7bf98df8d9f50861dfc2/fe9f1/backup_route.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.77456647398844%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAC4jAAAuIwF4pT92AAABaElEQVQoz21QaYvCUAx8//+fiCDiB2uxWGXFrh88WlHBGw90t7WHFcEDZ53A2y2yhSGZl2SajHIcB4vFAtVqFblcDvl8XlAqlVCpVGAYhoA5e9vtNprNJgqFAmzbFu44nzDKNizTgHJdF5PJBNPpFPP5HP1+H4PBAMPhEJ7nodfr/Qv26djtdl8/+UCr1YLiMDeczWYimqYpzuezgLnmOs/ybIyiCGEYQnmuJ4KbzQa+70shCAIcj0fJ4zgWzjxJkt86h9nDqDlrSq/O7dbrtYjz1PF4jN1uJ2/kvEDXR6MROp0OaNdyuRSLaNd2u4Uql8tiLpsOhwOSNJHIbXnO/X7Hfr8XcV7Brfjx/fl84vF44Ha7Sbxer1CWZaHRaMgGcZzAD3x8f3+JAIfpDwUJns+ztW+Xy0XedI3vqlgsolarYbVa4XQ6IQpfvkWxNGijmWf5O1jTuTJNE/V6/U/wNaSRFcryd2RrP9mPjUMfpclZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Backup Route\"\n        title=\"Backup Route\"\n        src=\"/static/9cc74d2fde2c7bf98df8d9f50861dfc2/1e043/backup_route.png\"\n        srcset=\"/static/9cc74d2fde2c7bf98df8d9f50861dfc2/991de/backup_route.png 173w,\n/static/9cc74d2fde2c7bf98df8d9f50861dfc2/e4d6b/backup_route.png 345w,\n/static/9cc74d2fde2c7bf98df8d9f50861dfc2/1e043/backup_route.png 690w,\n/static/9cc74d2fde2c7bf98df8d9f50861dfc2/fe9f1/backup_route.png 883w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","timeToRead":4,"excerpt":"While \"The Cloud\" has dramatically changed the landscape of hosted computing, there are still some scenarios where it is compelling to selfâ€¦","frontmatter":{"title":"Local-first self-hosting","cover":null,"date":"2022-09-25T00:00:00.000Z","categories":["Tutorials"],"tags":["Software Engineering"]},"fields":{"slug":"/2022-09-25-local-first-self-hosting","date":"September 25, 2022"}}},"pageContext":{"slug":"/2022-09-25-local-first-self-hosting","nexttitle":"DIY Adapters for DeWalt Batteries","nextslug":"/2021-12-03-dewalt-diy-adapters","prevtitle":"EPever MPPT Solar Charge Controller Monitoring Hardware","prevslug":"/2020-10-27-epever-esp-8266-controller"}},"staticQueryHashes":["3969716136"]}